<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="renderer" content="webkit"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <title>Functional Button Examples</title>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
  <!-- 引入样式 -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css"/>
  <!-- 引入组件库 -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <script src="../dist/functional-button.browser.js"></script>
</head>

<body>
  <div id="app">
    <h3>Functional Button Examples</h3>
    <div>
      <h4>Defer Button</h4>
      <el-button @click="handleOpenDialog">
        Open DeferBtn Demo Dialog
      </el-button>
      <el-dialog
          title="Info"
          :visible.sync="dialogVisible"
          @close="dialogVisible = false"
      >
        <p>I think it is good</p>
        <span slot="footer" class="dialog-footer">
            <el-button @click="handleCancel">No</el-button>
            <defer-btn ref="deferBtn" type="primary" :action="handleAgree">
              I agree
            </defer-btn>
          </span>
      </el-dialog>
    </div>
    <div>
      <h4>Continuous Button</h4>
      <span>{{ count }}</span>
      <continuous-btn type="primary" :action="handleAdd">
        Hold me
      </continuous-btn>
    </div>
  </div>
  <!-- built files will be auto injected -->
  <script>
    new Vue({
      el: '#app',
      data () {
        return {
          dialogVisible: false,
          count: 0
        }
      },
      mounted () {
        this.$refs.deferBtn.clear()
      },
      methods: {
        handleOpenDialog () {
          this.dialogVisible = true
          this.$refs.deferBtn.start()
        },
        handleCancel () {
          this.$refs.deferBtn.clear()
          this.dialogVisible = false
          this.$message.info('Ok.. I will make it better😥')
        },
        handleAgree () {
          this.$message.success('Thank you🤗')
        },
        handleAdd () {
          this.count++
        }
      }
    })
  </script>
</body>
</html>
